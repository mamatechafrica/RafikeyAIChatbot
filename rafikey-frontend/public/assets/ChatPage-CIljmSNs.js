import{i as x,f as U,k as K,c as g,o as u,B as H,u as c,g as e,y as D,G as E,N as Z,p as be,b as V,v as ae,z as rt,d as L,a as $,w as k,T as xe,j as le,W as $e,X as _e,O as Ae,h as Ge,D as S,s as Oe,q as Pe,K as je,Y as ze,e as Ce,Z as ve,_ as nt,F as Se,$ as qe,x as Ye,a0 as it,a1 as X,a2 as dt,a3 as ut,J as ct,I as pt,r as gt,a4 as vt,L as Te}from"./index-DmnJlZDj.js";import{_ as bt,H as xt}from"./index-DcTmDbD8.js";import{m as Be,a as Y}from"./moment-BHTDC-Ci.js";import{_ as Fe,a as Me,b as De}from"./learn-3qm72Kob.js";import{_ as Q,S as mt,Y as ft,h as Re,G as ht,V as kt}from"./DialogModal.vue_vue_type_script_setup_true_lang-9d9wul7a.js";import{s as we}from"./alert-4nn6fE_Q.js";import"./description-D5UqeOi9.js";import"./open-closed-amZRd_iR.js";function yt(f){console.log("Color generator",f);const s=x("bg-neutral-100"),a=x("bg-neutral-500"),i=x("hover:bg-neutral-200"),p=x("bg-neutral-500"),o=x("text-neutral-800"),h=x("abcdefghijklmnopqrstuvwxyz0123456789"),r=x(["red","amber","lime","emerald","teal","sky","violet","fuchsia","rose","indigo","yellow","green","blue","purple","pink","gray","cyan"]),d=x(new Map);return h.value.split("").forEach((j,M)=>{const I=M%r.value.length;d.value.set(j,r.value[I])}),{bgColor:s,bgHoverColor:i,bgIconColor:p,textColor:o,darkBgColor:a,setColor:()=>{const j=f.charAt(0).toLowerCase();switch(console.log(j),d.value.get(j)){case"red":s.value="bg-red-100",i.value="hover:bg-red-200",p.value="bg-red-500",o.value="text-red-500",a.value="bg-red-500";break;case"amber":s.value="bg-amber-100",i.value="hover:bg-amber-200",p.value="bg-amber-500",o.value="text-amber-500",a.value="bg-amber-500";break;case"lime":s.value="bg-lime-100",i.value="hover:bg-lime-200",p.value="bg-lime-500",o.value="text-lime-500",a.value="bg-lime-500";break;case"emerald":s.value="bg-emerald-100",i.value="hover:bg-emerald-200",p.value="bg-emerald-500",o.value="text-emerald-500",a.value="bg-emerald-500";break;case"teal":s.value="bg-teal-100",i.value="hover:bg-teal-200",p.value="bg-teal-500",o.value="text-teal-500",a.value="bg-teal-500";break;case"sky":s.value="bg-sky-100",i.value="hover:bg-sky-200",p.value="bg-sky-500",o.value="text-sky-500",a.value="bg-sky-500";break;case"violet":s.value="bg-violet-100",i.value="hover:bg-violet-200",p.value="bg-violet-500",o.value="text-violet-500",a.value="bg-violet-500";break;case"fuchsia":s.value="bg-fuchsia-100",i.value="hover:bg-fuchsia-200",p.value="bg-fuchsia-500",o.value="text-fuchsia-500",a.value="bg-fuchsia-500";break;case"rose":s.value="bg-rose-100",i.value="hover:bg-rose-200",p.value="bg-rose-500",o.value="text-rose-500",a.value="bg-rose-500";break;case"indigo":s.value="bg-indigo-100",i.value="hover:bg-indigo-200",p.value="bg-indigo-500",o.value="text-indigo-500",a.value="bg-indigo-500";break;case"yellow":s.value="bg-yellow-100",i.value="hover:bg-yellow-200",p.value="bg-yellow-500",o.value="text-yellow-500",a.value="bg-yellow-500";break;case"green":s.value="bg-green-100",i.value="hover:bg-green-200",p.value="bg-green-500",o.value="text-green-500",a.value="bg-green-500";break;case"blue":s.value="bg-blue-100",i.value="hover:bg-blue-200",p.value="bg-blue-500",o.value="text-blue-500",a.value="bg-blue-500";break;case"purple":s.value="bg-purple-100",i.value="hover:bg-purple-200",p.value="bg-purple-500",o.value="text-purple-500",a.value="bg-purple-500";break;case"pink":s.value="bg-pink-100",i.value="hover:bg-pink-200",p.value="bg-pink-500",o.value="text-pink-500",a.value="bg-pink-500";break;case"gray":s.value="bg-gray-100",i.value="hover:bg-gray-200",p.value="bg-gray-500",o.value="text-gray-500",a.value="bg-gray-500";break;case"cyan":s.value="bg-cyan-100",i.value="hover:bg-cyan-200",p.value="bg-cyan-500",o.value="text-cyan-500",a.value="bg-cyan-500";break;default:s.value="bg-neutral-100",i.value="hover:bg-neutral-200",p.value="bg-neutral-500",o.value="text-neutral-500",a.value="bg-neutral-500";break}}}}const wt="/assets/linkedin-DvbM5N3o.png",Ct="/assets/whatsapp-DHVDHuci.png",St="/assets/facebook-ejnf6rkB.png",$t="/assets/twitter-DMRlWMuZ.png",_t="/assets/rafikey-icon-gT8t7Pzs.png",At={class:"text-start line-clamp-1 text-small dark:text-white"},Ne=U({__name:"ChatHistory",props:{threadId:{},title:{},lastMessageAt:{}},emits:["fetchHistoryHandler"],setup(f,{emit:s}){const a=f,i=K(),p=s,o=h=>{i.sessionId!==a.threadId&&(i.conversation=[],i.setActiveChatHistory(h.threadId),p("fetchHistoryHandler",h.threadId),i.isNewChat=!1)};return(h,r)=>(u(),g("div",{class:H(["flex justify-start py-2 ps-4 cursor-pointer active:",[c(i).sessionId===a.threadId?"bg-stone-300 dark:bg-stone-700  border-r-4 border-blue-600 ":"bg-transparent hover:bg-stone-300 active:bg-stone-300 hover:dark:bg-stone-700 active:dark:bg-stone-700 hover:border-r-4 active:border-r-4 hover:border-stone-400 active:border-stone-400 hover:dark:border-stone-500 active:dark:border-stone-500"]]),onClick:r[0]||(r[0]=d=>o(a))},[e("p",At,D(a.title),1)],2))}}),It={class:"rounded-lg w-11/12 pt-5 mx-auto"},Ht={class:"border-b border-veryLightThree dark:border-stone-600 md:w-3/4 md:mx-auto"},Lt={class:"cursor-pointer flex w-full","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},jt=["onClick"],Tt={class:"dark:text-white text-extra-small flex justify-center"},Ve=U({__name:"TabComponent",emits:["tabChange"],setup(f,{emit:s}){const a=[{id:1,name:"General"},{id:2,name:"Personalisation"},{id:3,name:"Security"}],i=x(1),p=s,o=h=>{i.value=h.id,p("tabChange",h)};return(h,r)=>(u(),g("div",It,[e("div",Ht,[e("nav",Lt,[(u(),g(E,null,Z(a,d=>e("div",{onClick:w=>o(d),key:d.id,class:H([[i.value===d.id?"border-b-[1px] dark:bg-veryLightSix bg-veryLightOne  rounded-t-[10px]  border-casablanca-300 transition-all duration-300 ":""],"w-full py-3 items-center text-sm whitespace-nowrap"]),id:"basic-tabs-item-1","aria-selected":"true","data-hs-tab":"#basic-tabs-1","aria-controls":"basic-tabs-1",role:"tab"},[e("span",Tt,D(d.name),1)],10,jt)),64))])])]))}}),Bt={class:"px-[16px]"},Ft={class:"py-4 flex items-center justify-between"},Mt={for:"Toggle1",class:"inline-flex items-center space-x-4 cursor-pointer dark:text-gray-800"},Dt={class:"relative"},Rt={class:"py-6 flex justify-between"},Nt={class:"flex gap-4 flex-col items-end"},Ut={class:"w-3/4 mx-auto cursor-pointer flex items-center justify-between"},Et={key:0,class:"loading loading-spinner loading-sm"},Gt={key:1,class:"dark:text-white text-extra-extra-small lg:text-extra-small"},Je=U({__name:"GeneralTab",setup(f){const s=x(!1),a=K(),i=le(),p=x(a.getOtherSettings.notificationsEnabled||!1);be(()=>p.value,()=>{a.setOtherSettings({key:"notificationsEnabled",value:p.value})});const o=x(!1),h=()=>{o.value=!0,a.deleteAllChats().then(r=>{r.result==="ok"?(we({type:"success",message:r.data}),setTimeout(()=>{i.replace({name:"newChat"}),a.sessionId="",a.conversation=[]},3e3)):we({type:"error",message:r.data})}).catch(r=>{we({type:"error",message:r.message})}).finally(()=>{o.value=!1,s.value=!1})};return console.log("chat history title",a.chatHistoryTitles),(r,d)=>(u(),g("div",Bt,[e("div",Ft,[d[7]||(d[7]=e("p",{class:"dark:text-white"},"Notifications",-1)),e("div",null,[d[6]||(d[6]=e("div",{class:"flex gap-16"},[e("span",{class:"dark:text-white"},"Off"),e("span",{class:"dark:text-white"},"On")],-1)),e("label",Mt,[e("span",Dt,[ae(e("input",{id:"Toggle1",type:"checkbox",class:"hidden peer","onUpdate:modelValue":d[0]||(d[0]=w=>p.value=w)},null,512),[[rt,p.value]]),d[4]||(d[4]=e("div",{class:"w-28 h-6 rounded-full shadow bg-veryLight dark:bg-veryLight peer-checked:bg-veryLight"},null,-1)),d[5]||(d[5]=e("div",{class:"absolute transition-all inset-y-0 left-0 w-8 h-6 m-0 rounded-full shadow peer-checked:right-0 peer-checked:bg-bg-veryLight peer-checked:left-auto bg-casablanca-300"},null,-1))])])])]),d[15]||(d[15]=e("div",{class:"border-b-[1px] dark:border-veryLightFive border-veryLightFour"},null,-1)),e("div",Rt,[d[11]||(d[11]=e("div",null,[e("p",{class:"dark:text-white"},"Chat History")],-1)),e("div",Nt,[d[9]||(d[9]=e("div",{class:"cursor-pointer w-fit border dark:border-white border-darkgray rounded-2xl px-3 py-1"},[e("span",{class:"dark:text-white"},"View Archived Chats")],-1)),d[10]||(d[10]=e("div",{class:"cursor-pointer w-fit border dark:border-white border-darkgray rounded-2xl px-3 py-1"},[e("span",{class:"dark:text-white"},"Archive All Chats")],-1)),c(a).chatHistoryTitles.length>0?(u(),g("div",{key:0,onClick:d[1]||(d[1]=w=>s.value=!0),class:"cursor-pointer w-fit border border-red-700 rounded-2xl px-3 py-1"},d[8]||(d[8]=[e("span",{class:"text-red-700"},"Clear All Chats",-1)]))):L("",!0)])]),d[16]||(d[16]=e("div",{class:"border-b-[1px] dark:border-veryLightFive border-veryLightFour"},null,-1)),(u(),V(xe,{to:"body"},[$(Q,{"is-open":s.value,onCloseModal:d[3]||(d[3]=w=>s.value=!s.value)},{title:k(()=>d[12]||(d[12]=[e("div",{class:"flex items-center gap-4"},[e("div",null,[e("span",{class:"material-icons-round !text-red-700 dark:text-white text-extra-large"},"warning")]),e("div",null,[e("span",{class:"dark:text-white"},"Delete all chats?")])],-1)])),body:k(()=>d[13]||(d[13]=[e("div",null,[e("span",{class:"dark:text-white"},"All chats will be gone forever and you won't be able to access them again.")],-1)])),footer:k(()=>[e("div",Ut,[e("button",{onClick:d[2]||(d[2]=w=>s.value=!1),class:"hover:bg-transparent hover:shadow-none dark:border-white border-darkgray rounded-2xl px-4"},d[14]||(d[14]=[e("span",{class:"dark:text-white text-extra-extra-small lg:text-extra-small"},"Cancel ",-1)])),e("button",{onClick:h,class:"btn btn-sm btn-ghost border-none hover:shadow-none bg-red-700 rounded-2xl px-4"},[o.value?(u(),g("span",Et)):(u(),g("span",Gt,"Delete Chats"))])])]),_:1},8,["is-open"])]))]))}}),Ot={class:"px-[16px] py-6 flex gap-[20px] justify-between"},Pt={class:"flex flex-col gap-7"},zt=["disabled"],qt=["disabled"],We=U({__name:"PersonalizationComponent",setup(f){const s=$e(),a=_e(s),i=K();return(p,o)=>(u(),g(E,null,[e("div",Ot,[o[4]||(o[4]=e("div",null,[e("span",{class:"dark:text-white"},"Theme")],-1)),e("div",Pt,[e("button",{onClick:o[0]||(o[0]=h=>c(a)()),disabled:!c(i).isDark,class:"btn btn-sm border-none shadow-none disabled:opacity-75 bg-casablanca-300 py-[6px] px-[12px] rounded-full"},o[2]||(o[2]=[e("span",{class:"text-extra-small"},"Light Mode",-1)]),8,zt),e("button",{disabled:c(i).isDark,onClick:o[1]||(o[1]=h=>c(a)()),class:"btn btn-sm shadow-none bg-transparent border rounded-full border-darkgray dark:border-white py-[6px] px-[12px]"},o[3]||(o[3]=[e("span",{class:"text-extra-small dark:text-white"},"Dark Mode",-1)]),8,qt)])]),o[5]||(o[5]=e("div",{class:"border-b-[1px] border-veryLightFour dark:border-veryLightFive"},null,-1))],64))}}),Yt={class:"px-[16px] py-6 flex flex-col gap-[33px]"},Vt={class:"flex justify-center gap-4"},Xe=U({__name:"SecurityComponent",setup(f){const s=Ae(),a=x(!1),i=le(),p=()=>{a.value=!0},o=()=>{s.logout(),i.push({name:"login"})};return(h,r)=>(u(),g("div",Yt,[e("div",{class:"flex justify-between"},[r[3]||(r[3]=e("div",null,[e("span",{class:"dark:text-white"},"Log out of this device")],-1)),e("div",{onClick:p,class:"cursor-pointer border dark:border-white border-darkgray rounded-full py-[6px] px-[12px]"},r[2]||(r[2]=[e("span",{class:"dark:text-white"},"Log Out",-1)]))]),r[8]||(r[8]=Ge('<div class="flex justify-between"><div><span class="dark:text-white">Log out of all devices</span></div><div class="border border-red-700 rounded-full py-[6px] px-[12px]"><span class="text-red-700"> Log Out of All </span></div></div><div class="border-b-[1px] border-veryLightFour dark:border-veryLightFive"></div>',2)),(u(),V(xe,{to:"body"},[$(Q,{"is-open":a.value,onCloseModal:r[1]||(r[1]=d=>a.value=!a.value)},{title:k(()=>r[4]||(r[4]=[e("div",{class:"flex justify-center"},[e("span",{class:"material-icons-round dark:text-white !text-4xl"},"😢")],-1)])),body:k(()=>r[5]||(r[5]=[e("div",{class:"flex flex-col items-center py-2"},[e("p",{class:"dark:text-white text-lg lg:text-xl"},"Are you Sure?"),e("span",{class:"dark:text-white text-lg lg:text-lg"},"You want to log out?")],-1)])),footer:k(()=>[e("div",Vt,[e("button",{onClick:S(o,["stop"]),class:"btn btn-sm border-none outline-none bg-casablanca-300 shadow-none px-4 rounded-lg"},r[6]||(r[6]=[e("span",{class:""},"Ok",-1)])),e("button",{onClick:r[0]||(r[0]=d=>a.value=!a.value),class:"btn btn-sm bg-transparent border-casablanca-300 shadow-none rounded-lg dark:text-white"},r[7]||(r[7]=[e("span",null,"Cancel",-1)]))])]),_:1},8,["is-open"])]))]))}}),Jt={class:"flex flex-col items-center gap-4"},Wt={class:"dark:text-white"},Xt={class:"relative h-[calc(100vh-10rem)] w-full"},Zt={key:0,class:"h-[calc(100vh-21rem)] overflow-y-auto"},Qt={class:"flex justify-between sticky ps-4 pb-1 top-0 backdrop-blur font-bold bg-transparent dark:bg-darkgray"},Kt={class:"dark:text-white text-large"},es={class:"flex flex-row-reverse"},ts={class:"dark:text-stone-300 text-small text-nowrap"},ss={class:""},as={class:"fixed inset-0 overflow-hidden"},ls={class:"absolute inset-0 overflow-hidden"},os={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16"},rs={class:"flex h-full flex-col space-y-4 overflow-y-auto bg-white dark:bg-lightgray py-6 shadow-xl"},ns={class:"flex justify-between"},is={class:"flex justify-between px-4"},ds={class:"flex gap-4 items-center"},us={class:"dark:text-white"},cs={key:0,class:"h-[calc(100vh-21rem)] overflow-y-auto"},ps={class:"flex justify-between sticky pb-1 top-0 backdrop-blur bg-opacity-30 font-bold"},gs={class:"dark:text-white ps-4 text-large"},vs={class:"flex flex-row-reverse"},bs={class:"dark:text-stone-300 text-small text-nowrap"},xs={ref:"profileSectionElement",class:"md:hidden block shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] bg-white divide-y divide-solid z-999 dark:divide-stone-700 dark:bg-darkgray cursor-pointer absolute space-y-4 bottom-0 w-full p-4 rounded-br-[20px] rounded-tl-[20px]"},ms={class:"space-y-1"},fs={key:0,class:"material-icons-outlined dark:text-white !text-xl"},hs={key:1,class:"material-icons-outlined dark:text-white"},ks={key:2,class:"dark:text-white text-gray-700"},ys={key:3,class:"dark:text-white text-gray-700"},ws={class:"space-y-1 pt-2"},Cs={class:"flex gap-4 rounded-lg px-2 py-1"},Ss={class:"text-stone-400"},$s={key:0,class:"pt-[27px] px-[10px] pb-[40px] absolute rounded-t-2xl bottom-0 w-full bg-white dark:bg-darkgray"},_s={class:"flex justify-center gap-4"},As=U({__name:"NavBar",emits:["fetchHistoryHandler","profileHandler","isProfile","shareChat","showFeedbackDialog"],setup(f,{emit:s}){const a=K(),i=le(),p=$e(),o=Ae(),h=x(!1),r=x(!1),d=[{id:1,name:"General",component:Je},{id:2,name:"Personalisation",component:We},{id:3,name:"Security",component:Xe}],w=Oe(d[0]);Pe(()=>{a.getChatHistoryTitles().then(A=>{A?a.chatHistoryTitles=A.data:h.value=!0}).catch(A=>{h.value=!0})});const j=()=>{a.setCollapseSidebarSmall(!0),I("showFeedbackDialog")},M=()=>{const A=ve(),l={};return a.chatHistoryTitles.reduce((B,F)=>{let y=ve(F.last_message_at).toISOString();return A.isSame(y,"day")?y="Today":A.subtract(1,"days").isSame(y,"day")?y="Yesterday":A.subtract(1,"weeks").isBefore(y)?y="Previous 7 Days":A.subtract(1,"months").isBefore(y)?y="Previous 30 Days":A.subtract(1,"years").isBefore(y)?y=ve(F.last_message_at).format("MMMM"):y=ve(F.last_message_at).format("YYYY"),B[y]||(B[y]=[]),B[y].push(F),B},l)},I=s,C=A=>{I("fetchHistoryHandler",A),a.setCollapseSidebarSmall(!0),r.value=!1,T.value=!1},_=()=>{I("profileHandler")},N=()=>{a.setCollapseSidebarLarge(!0)},J=()=>{a.setCollapseSidebarLarge(!1)},G=()=>{a.conversation=[],i.push({name:"newChat"})},oe=_e(p),T=x(!0),O=()=>{i.push({name:"privacy-policy-1"}),a.isShowTermsButton=!1},P=x(!1),ee=()=>{P.value=!0},me=()=>{o.logout(),i.push({name:"login"})},z=()=>{P.value=!1,T.value=!1},fe=()=>{r.value?(r.value=!1,I("isProfile",r.value)):(T.value=!T.value,I("isProfile",T.value))},re=()=>{T.value=!1,r.value=!0},ne=A=>{w.value=d.find(l=>l.id===A.id)||d[0]},q=()=>{r.value=!1,T.value=!0};be(()=>a.collapseSidebarSmall,A=>{A||(T.value=!1,r.value=!1)});const he=()=>{I("shareChat")},ie=je("bgColor"),de=je("darkBgColor");return(A,l)=>(u(),g(E,null,[e("div",{class:H([[c(a).collapseSidebarLarge?"w-24 duration-300 ":"w-80 duration-300 "],"fixed md:block hidden bg-link-water-50 dark:bg-darkgray top-6 left-6 h-[calc(100vh-3rem)] rounded-[30px] z-50"])},[e("div",{class:H(["flex justify-between items-center",[c(a).collapseSidebarLarge?"":"pe-8"]])},[e("div",{class:H(["w-28",[c(a).collapseSidebarLarge?"cursor-pointer":""]]),onClick:J},l[4]||(l[4]=[e("img",{src:_t,alt:"rafikey-icon"},null,-1)]),2),c(a).collapseSidebarLarge?L("",!0):(u(),g("div",{key:0,onClick:N,class:"btn btn-sm btn-circle flex justify-center items-center h-10 w-10 dark:bg-darkgray hover:bg-transparent shadow-none"},l[5]||(l[5]=[e("span",{class:"material-icons-outlined dark:text-white"},"arrow_back_ios",-1)])))],2),e("div",{class:H(["flex gap-6",[c(a).collapseSidebarLarge?"":" ps-10"]])},[e("div",null,[e("div",{class:H(["space-y-16 pt-16",[c(a).collapseSidebarLarge?"ps-8":""]])},[e("div",{class:"flex flex-col gap-4"},[e("div",{onClick:G,class:"bg-darkgray cursor-pointer dark:bg-stone-700 rounded-lg h-8 w-8 flex items-center justify-center"},l[6]||(l[6]=[e("span",{class:"material-icons-outlined text-white"},"add",-1)]))])],2),e("div",{class:H(["absolute bottom-4 w-full",[c(a).collapseSidebarLarge?"":"flex "]])},[e("div",Jt,[e("div",{onClick:S(_,["stop"]),class:"cursor-pointer"},[e("div",{class:H([[c(de),c(ie)],"rounded-full h-10 w-10 flex items-center justify-center font-bold"])},[e("span",Wt,D(JSON.parse(c(o).user).username.substring(0,2).toUpperCase()),1)],2)])])],2)]),e("div",Xt,[c(a).chatHistoryTitles&&!c(a).collapseSidebarLarge?(u(),g("div",Zt,[(u(!0),g(E,null,Z(M(),(B,F)=>(u(),g("div",{key:F},[e("div",Qt,[e("h1",Kt,D(F),1),e("div",es,[l[7]||(l[7]=e("span",{class:"material-icons-outlined dark:text-white"},"expand_less",-1)),e("span",ts,D(B.length)+" total",1)])]),(u(!0),g(E,null,Z(B,y=>(u(),g("div",{key:y.thread_id,class:"w-full"},[$(Ne,{"thread-id":y.thread_id,"last-message-at":y.last_message_at,title:y.title,onFetchHistoryHandler:C},null,8,["thread-id","last-message-at","title"])]))),128))]))),128)),l[8]||(l[8]=Ge('<div class="absolute bottom-4 grid grid-cols-12 w-full" data-v-36ad91ee><div class="col-span-4 sidebar-button-yellow shadow-[0_0_20px_3px] shadow-yellow-500/85 h-10 w-10 rounded-full flex items-center justify-center" data-v-36ad91ee><img src="'+Fe+'" alt="talk-to-someone-image" class="" data-v-36ad91ee></div><div class="col-span-4 sidebar-button-pink shadow-[0_0_20px_3px] shadow-pink-500/85 h-10 w-10 rounded-full flex items-center justify-center" data-v-36ad91ee><img src="'+Me+'" alt="clinic-image" data-v-36ad91ee></div><div class="col-span-4 sidebar-button-blue shadow-[0_0_20px_3px] shadow-blue-500/85 h-10 w-10 rounded-full flex items-center justify-center" data-v-36ad91ee><img src="'+De+'" alt="lear-image" data-v-36ad91ee></div></div>',1))])):L("",!0)])],2)],2),e("div",ss,[$(c(mt),{as:"template",show:!c(a).collapseSidebarSmall,class:"relative md:hidden block"},{default:k(()=>[$(c(ft),{class:"relative z-10",onClose:l[2]||(l[2]=B=>c(a).setCollapseSidebarSmall(!0))},{default:k(()=>[e("div",as,[e("div",ls,[e("div",os,[$(c(Re),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:k(()=>[$(c(ht),{class:"pointer-events-auto relative w-screen max-w-md"},{default:k(()=>{var B;return[$(c(Re),{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>l[9]||(l[9]=[e("div",{class:"absolute top-0 left-0 -ml-8 flex pt-4 pr-2 sm:-ml-10 sm:pr-4"},null,-1)])),_:1}),e("div",rs,[e("div",{class:H(["px-4 sm:px-6",[T.value||r.value?"blur-[4px]  ":""]])},[$(c(kt),{class:"text-base font-semibold"},{default:k(()=>[e("div",ns,[l[11]||(l[11]=e("div",null,[e("p",{class:"text-xl dark:text-white"},"RAFIKey")],-1)),e("div",{onClick:l[0]||(l[0]=F=>c(a).setCollapseSidebarSmall(!0)),class:"btn btn-sm btn-circle flex justify-center items-center h-10 w-10 dark:bg-darkgray hover:bg-transparent shadow-none"},l[10]||(l[10]=[e("span",{class:"material-icons-outlined rotate-180 dark:text-white"},"arrow_back_ios",-1)]))])]),_:1})],2),e("div",{class:H(["relative space-y-3 flex-1",[T.value||r.value?"blur-[4px] bg-black/5":""]])},[e("div",is,[e("div",ds,[c(a).isNewChat?L("",!0):(u(),g("div",{key:0,onClick:S(he,["stop"]),class:"flex gap-1 justify-between border dark:border-white border-stone-300 rounded-lg px-2 py-1"},l[12]||(l[12]=[e("span",{class:"material-icons-outlined dark:text-stone-300 md:!text-lg !text-sm"},"share ",-1),e("span",{class:"dark:text-white md:text-lg text-sm"},"Share",-1)]))),e("div",{class:"cursor-pointer",onClick:S(j,["stop"])},l[13]||(l[13]=[e("span",{class:"dark:text-white md:text-lg text-sm"},"Feedback",-1)]))]),e("div",{onClick:fe,class:"cursor-pointer"},[e("div",{class:H([[c(de),c(ie)],"rounded-full h-10 w-10 flex items-center justify-center font-bold"])},[e("span",us,D(JSON.parse(c(o).user).username.substring(0,2).toUpperCase()),1)],2)])]),l[17]||(l[17]=e("div",{class:"border-b border-darkgray"},null,-1)),e("div",{class:"flex justify-between pb-4 px-4 cursor-pointer",onClick:G},l[14]||(l[14]=[e("span",{class:"dark:text-white text-small flex items-center"},"New Chat",-1),e("div",{class:"bg-darkgray dark:bg-stone-700 p-1 rounded-md flex items-center justify-center"},[e("span",{class:"material-icons-outlined text-white"},"add")],-1)])),c(a).chatHistoryTitles&&!c(a).collapseSidebarSmall?(u(),g("div",cs,[(u(!0),g(E,null,Z(M(),(F,y)=>(u(),g("div",{key:y},[e("div",ps,[e("h1",gs,D(y),1),e("div",vs,[l[15]||(l[15]=e("span",{class:"material-icons-outlined dark:text-white"},"expand_less",-1)),e("span",bs,D(F.length)+" total",1)])]),(u(!0),g(E,null,Z(F,W=>(u(),g("div",{key:W.thread_id,class:"py-1"},[$(Ne,{"thread-id":W.thread_id,"last-message-at":W.last_message_at,title:W.title,onFetchHistoryHandler:C},null,8,["thread-id","last-message-at","title"])]))),128))]))),128)),l[16]||(l[16]=e("div",{class:"absolute bottom-0 w-full bg-transparent backdrop-blur"},[e("div",{class:"flex px-10 justify-between w-full"},[e("div",{class:"col-span-1 sidebar-button-yellow shadow-[0_0_32px_3px] shadow-yellow-500/85 h-10 w-10 rounded-full flex items-center justify-center"},[e("img",{src:Fe,alt:"talk-to-someone-image",class:""})]),e("div",{class:"sidebar-button-pink shadow-[0_0_32px_3px] shadow-pink-500/85 h-10 w-10 rounded-full flex items-center justify-center"},[e("img",{src:Me,alt:"clinic-image"})]),e("div",{class:"sidebar-button-blue shadow-[0_0_32px_3px] shadow-blue-500/85 h-10 w-10 rounded-full flex items-center justify-center"},[e("img",{src:De,alt:"lear-image"})])])],-1))])):L("",!0)],2),ae(e("div",xs,[e("div",ms,[e("div",{onClick:S(O,["stop"]),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},l[18]||(l[18]=[e("span",{class:"material-icons-outlined dark:text-white !text-xl"},"article",-1),e("span",{class:"dark:text-white text-gray-700"},"Terms and Conditions",-1)])),e("div",{onClick:re,class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},l[19]||(l[19]=[e("span",{class:"material-icons-outlined dark:text-white !text-xl"},"settings",-1),e("span",{class:"dark:text-white text-gray-700"},"Settings",-1)])),e("div",{onClick:l[1]||(l[1]=S(F=>c(oe)(),["stop"])),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},[c(p)?(u(),g("span",hs,"light_mode")):(u(),g("span",fs,"dark_mode")),c(p)?(u(),g("span",ys,"Light Mode")):(u(),g("span",ks,"Dark Mode"))])]),e("div",ws,[e("div",{onClick:S(ee,["stop"]),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},l[20]||(l[20]=[e("span",{class:"material-icons-round dark:text-white !text-xl"},"exit_to_app",-1),e("span",{class:"dark:text-white text-gray-700"},"Log out",-1)])),e("div",Cs,[l[21]||(l[21]=e("span",{class:"material-icons-round text-stone-400 dark:text-white"},"person_outline",-1)),e("span",Ss,D((B=c(o).getUserInfo())==null?void 0:B.username),1)])])],512),[[ze,T.value]]),r.value?(u(),g("div",$s,[e("div",{onClick:S(q,["stop"]),class:"cursor-pointer flex gap-4 p-[10px]"},l[22]||(l[22]=[e("span",{class:"material-icons-outlined dark:text-white !text-xl"},"arrow_back_ios",-1),e("span",{class:"text-small dark:text-white"},"Back",-1)])),l[23]||(l[23]=e("div",{class:"border-b-[1px] dark:border-stone-700 border-veryLightTwo w-11/12 mx-auto"},null,-1)),$(Ve,{onTabChange:ne}),e("div",null,[(u(),V(Ce(w.value.component)))])])):L("",!0)])]}),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"]),(u(),V(xe,{to:"body"},[$(Q,{"is-open":P.value,onCloseModal:l[3]||(l[3]=B=>P.value=!P.value)},{title:k(()=>l[24]||(l[24]=[e("div",{class:"flex justify-center"},[e("span",{class:"material-icons-round dark:text-white !text-4xl"},"😢")],-1)])),body:k(()=>l[25]||(l[25]=[e("div",{class:"flex flex-col items-center py-2"},[e("p",{class:"dark:text-white text-lg lg:text-xl"},"Are you Sure?"),e("span",{class:"dark:text-white text-lg lg:text-lg"},"You want to log out?")],-1)])),footer:k(()=>[e("div",_s,[e("button",{onClick:S(me,["stop"]),class:"btn btn-sm border-none outline-none bg-casablanca-300 shadow-none px-4 rounded-lg"},l[26]||(l[26]=[e("span",{class:""},"Ok",-1)])),e("button",{onClick:S(z,["stop"]),class:"btn btn-sm bg-transparent border-casablanca-300 shadow-none rounded-lg dark:text-white"},l[27]||(l[27]=[e("span",null,"Cancel",-1)]))])]),_:1},8,["is-open"])]))])],64))}}),Is=nt(As,[["__scopeId","data-v-36ad91ee"]]);/**
 * @license lucide-vue-next v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hs=f=>f.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,i)=>i?i.toUpperCase():a.toLowerCase()),Ls=f=>{const s=Hs(f);return s.charAt(0).toUpperCase()+s.slice(1)},js=(...f)=>f.filter((s,a,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===a).join(" ").trim(),Ee=f=>f==="";/**
 * @license lucide-vue-next v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=({name:f,iconNode:s,absoluteStrokeWidth:a,"absolute-stroke-width":i,strokeWidth:p,"stroke-width":o,size:h=se.width,color:r=se.stroke,...d},{slots:w})=>Se("svg",{...se,...d,width:h,height:h,stroke:r,"stroke-width":Ee(a)||Ee(i)||a===!0||i===!0?Number(p||o||se["stroke-width"])*24/Number(h):p||o||se["stroke-width"],class:js("lucide",d.class,...f?[`lucide-${Ue(Ls(f))}-icon`,`lucide-${Ue(f)}`]:["lucide-icon"])},[...s.map(j=>Se(...j)),...w.default?[w.default()]:[]]);/**
 * @license lucide-vue-next v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=(f,s)=>(a,{slots:i,attrs:p})=>Se(Ts,{...p,...a,iconNode:s,name:f},i);/**
 * @license lucide-vue-next v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Bs("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASkSURBVHgBtVZNTBtHFH47u9gII5efUpoAAQ5piAS0IFUtP6qEBFJFqFROPYByyAkuPcChp0RKDz0k14qGSk1UKVGrSk04V0g+4JDw41gtvWGoCTaObfwP/t+dvjfsOmsDSi4ZaeTdmTffe+973zwvwDse0psMIpGI/fj4+ApjrJ8D9Gua9iFwrgBjPgbwZGtryzE+Pp57awcej+eDapvtCzWfHwZJGpMkqQuX2XkAnPOYxNiPaqFwv7Oz03uug//29z+TNO0WPg4jqF1sShIhANefeQ4DtVjoRaxXOAppnP/R2d7+Hdqmyxzs7e0N4aG/0KimBGwaajIJkevXoamxEaRoFNSxMWCzs+UOTrwAOnkpS9JkR0fHC4Hl8/kak6nURk1NTaeiKFAsFuFMKtCJvLsLgDba5csAVmsJ1MiGn2QCqVQqk0mnhwcGBl5I6y7XNxLnv1PUFkzfbreDzBgUVfW0l0pqTPSpaJ/L5wGBIZvJQL5Q+PcwHP5EYZwPkBEZFAoFiCIFtbW1whG9l2WkR4tFBVQT5BEwiZklEglApQl7DXGQJrBaLN1N9fWfKhpA09qzZ7C4uAg/3bsHSBUcHR1BDgv6flMTVFdXCyeUER2m9WgkArF4HNIISmBcn0ZGNLJoF8znP2a4aMV0RDQul6vEJYFGDw/FL2Wn4i9yC56dHfAfHIiIuYl/osnhcMCjhw9FJjSqrNYWpmoa6+nuEfzveDyvI8FJjikbcpJBXnexyFnkGCqipefV1VVYXl4Gt9sNmxsb4rxWLF5QsMA5+3t2mJiYgAsXL74+qBc0m82CLMvwKhAQjrieobnINF2bm3i5GTSilFtbW8U20lqjIFCCvH09OSkMhCqMgurqIPoSWMwSJSZggyK8xbCD9A0ODkHbpUtCBFzTUNScB7kOxituJw0yTCMtmi5bXqGoYChE/QrGr12D0dFRqEKqBTjuYcA5BV+iImpD0zqIcZcNCZupMZ7X1tfhyePHouDz8/PQ2tZGUZtUzSMKxhVjelEFOGYinJnahWocMsmRxtrz50IcNptNyLLkXN9H7H0mYyviJi2L9HQjA0yj4p7REog6UldzczN8RO3DNGhfkSS/5HC76+RUKsxkWWEUPc4Q8kqanp6eFmCkpGAwWHJawKLTOlHj9Xqhp7u7VEOzzHGMsJG+vrhcVfWAm5Sxvb0NS0tLsOJcKT+AMxaLwZ27d+D727epHUBvb+9p8BOcJBb5b/FHks9mf8DNgGHUdfWq6EeebU+Zsii7B7/ch1w2J25rKBwuk66ZHqzgb1NTUzHhYGRkxIurX6ICXtJmQ0MDdHV1iXthNDejPoFXAQHe3t4OrS0tZaoyMkVJb2EHuCWCMhcGee9QLJY/EbaflENc2zATugM+v18cdjqdEMOOOzg0CHV19eViwAe0fZTUtLlvb9wIn3Kgp1e18vTpTXRyEwsvDEiCdJlUXU1mlYmpaQeY1a/YaX+enZ31mvHO/arASK8UisW7iXj8K2rVlA1lxU7aRxo1/g/+hztRqkszMzOrWB9+Fs4bP1sWFhY+x2bXh/2oASM8ws63jxdzbW5uzg9vMf4HAuRhCyFI1PEAAAAASUVORK5CYII=",Ds={class:"dark:bg-darkgray bg-white space-y-2 border-[1px] px-[20px] pt-[27px] pb-[20px] rounded-[20px] dark:border-lightgrayThree"},Rs=U({__name:"SRHRGameButton",emits:["closeGameButton"],setup(f,{emit:s}){const a=le(),i=s,p=()=>{i("closeGameButton")},o=()=>{a.push({name:"welcome-page-quiz"})};return(h,r)=>(u(),g("div",Ds,[e("div",{class:"flex justify-between"},[r[1]||(r[1]=e("div",null,[e("p",{class:"dark:text-white text-small"},"Let's have fun")],-1)),e("div",{class:"flex justify-center"},[e("button",{onClick:p,class:"btn btn-sm btn-ghost bg-transparent border-none shadow-none w-[25px] h-[25px]"},r[0]||(r[0]=[e("span",{class:"material-icons-outlined dark:text-veryLightSeven"},"cancel",-1)]))])]),r[4]||(r[4]=e("div",{class:"flex justify-center"},[e("div",{class:"dark:bg-lightgray bg-gray-100 rounded-full h-[44px] w-[44px] flex justify-center items-center"},[e("img",{src:Ms,alt:"game-image"})])],-1)),e("div",{class:"space-y-2"},[r[3]||(r[3]=e("div",null,[e("p",{class:"dark:text-white text-extra-small"},"Time for yet another fun session")],-1)),e("div",{class:"w-full"},[e("button",{onClick:o,class:"btn btn-sm btn-ghost rounded-lg hover:scale-105 transition-all duration-300 ease-in-out w-full bg-casablanca-300"},r[2]||(r[2]=[e("span",{class:"text-extra-small"},"Play",-1)]))])])]))}}),Ns={class:"z-50 dark:bg-darkgray bg-white space-y-4 border-[1px] px-[20px] pt-[27px] pb-[20px] rounded-[20px] dark:border-lightgrayThree"},Us={class:"flex gap-5"},Es=["onClick"],Gs={class:"text-xl"},Os={class:"flex justify-center"},Ps={key:0,class:"text-center text-sm text-button-light"},zs={class:"w-full"},qs={key:0,class:"text-extra-small"},Ys={key:1,class:"loading loading-spinner loading-sm"},Vs=U({__name:"FeebackDialog",emits:["closeFeedbackDialog"],setup(f,{emit:s}){const a=K(),i=x(""),p=[{id:1,emoji:"😡",text:"Awful"},{id:2,emoji:"😤",text:"Sucks"},{id:3,emoji:"🙂",text:"Okay"},{id:4,emoji:"😍",text:"I like it"},{id:5,emoji:"😍",text:"Love it"}],o=x(),h=I=>{o.value=p.find(C=>C.id===I)},r=s,d=()=>{r("closeFeedbackDialog")},w=qe(),j=x(!1),M=()=>{var C;const I={emoji:(C=o.value)==null?void 0:C.emoji,comment:i.value};j.value=!0,a.ratingFeedback(I).then(_=>{console.log("Feedback response: ",_),(_==null?void 0:_.result)==="ok"?(w.addNotification("Feedback sent successfully","success"),d()):w.addNotification("Failed to send feedback, please retry","error")}).catch(_=>{w.addNotification("Error sending feedback, please retry","error"),console.error("Error sending feedback: ",_)}).finally(()=>{j.value=!1})};return(I,C)=>(u(),g("div",Ns,[e("div",{class:"flex justify-between space-x-12"},[C[2]||(C[2]=e("div",null,[e("p",{class:"dark:text-white text-small"},"Share Your Thoughts")],-1)),e("div",{class:"flex justify-center"},[e("button",{onClick:d,class:"btn btn-sm btn-ghost bg-transparent border-none shadow-none w-[25px] h-[25px]"},C[1]||(C[1]=[e("span",{class:"material-icons-outlined dark:text-veryLightSeven"},"cancel",-1)]))])]),C[4]||(C[4]=e("div",null,[e("p",{class:"dark:text-white"},"Rate your experience")],-1)),e("div",Us,[(u(),g(E,null,Z(p,_=>{var N,J;return e("div",{key:_.id,class:""},[e("div",{onClick:G=>h(_.id),class:H([[((N=o.value)==null?void 0:N.id)===_.id?"bg-button-light dark:opacity-50":"bg-gray-100 dark:bg-veryLightNine "],"cursor-pointer rounded-full w-12 h-12 flex justify-center items-center"])},[e("span",Gs,D(_.emoji),1)],10,Es),e("div",Os,[((J=o.value)==null?void 0:J.id)===_.id?(u(),g("span",Ps,D(o.value.text),1)):L("",!0)])])}),64))]),e("div",null,[C[3]||(C[3]=e("label",{class:"dark:text-white text-small"},"Comment (Optional)",-1)),ae(e("textarea",{"onUpdate:modelValue":C[0]||(C[0]=_=>i.value=_),id:"message",rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-[12px] border-[0.5px] border-lightgrayThree dark:bg-lightgrayThree dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Leave a comment..."},null,512),[[Ye,i.value]])]),e("div",zs,[e("button",{style:it(o.value?"":"opacity:0.4; pointer-events:none;"),onClick:M,class:"w-full bg-button-light rounded-[12px] p-2"},[j.value?(u(),g("span",Ys)):(u(),g("span",qs,"Share Feedback"))],4)])]))}}),Js={class:"relative p-6 dark:bg-lightgray h-screen overflow-hidden w-full"},Ws={class:"relative w-full"},Xs={key:0,class:"hidden justify-end gap-4 w-11/12 sticky top-0 cursor-pointer md:flex"},Zs={class:"md:hidden block sticky top-0 backdrop-blur-2xl dark:bg-black z-10 bg-white"},Qs={class:"flex justify-between bg-link-water dark:bg-lightgray bg-white z-10 p-4 backdrop-blur"},Ks={class:"space-y-1"},ea={key:0,class:"material-icons-outlined dark:text-white !text-xl"},ta={key:1,class:"material-icons-outlined dark:text-white"},sa={key:2,class:"dark:text-white text-gray-700"},aa={key:3,class:"dark:text-white text-gray-700"},la={class:"space-y-1 pt-2"},oa={class:"flex gap-4 rounded-lg px-2 py-1"},ra={class:"text-stone-400"},na={class:"bg-white backdrop-blur-2xl md:pb-6 dark:bg-lightgray"},ia={class:""},da={key:0,class:"fixed bottom-44 right-16"},ua={key:1,class:"fixed top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 md:bottom-44 md:right-16 z-50"},ca={class:"flex justify-center gap-4"},pa={class:"flex flex-row-reverse justify-between"},ga={class:"flex flex-col"},va={class:"md:space-x-2 w-full flex items-center border-[0.5px] py-3 !rounded-2xl px-3"},ba={key:1,class:"btn btn-sm rounded-xl",disabled:""},xa={key:0},ma={key:1},fa={key:0,class:"flex flex-row justify-center py-4 w-full mx-auto"},ha="max-w-[600px]",Ia=U({__name:"ChatPage",setup(f){const s=K(),a=qe(),i=Ae(),p=le(),o=dt(),h=x(!1),r=$e(),d=x(),w=x(""),j=x(!1),M=x(!1),I=x(!1),C=x(!1),_=x(!1),N=Be(),J=()=>{if(Math.random()<.3){const t=Math.random()*1e4;setTimeout(()=>{_.value=!0},t)}else return},G=[{id:1,name:"General",component:Je},{id:2,name:"Personalisation",component:We},{id:3,name:"Security",component:Xe}],oe=Oe(G[0]),T=x({message:"",isUser:!1,isTyping:!0,uniqueId:X.uniqueId("rafikey-"),timestamp:""}),O=x({message:"",isUser:!0,uniqueId:X.uniqueId("user-"),timestamp:""}),P={link({href:n,title:t,text:m}){return`<a target="_blank" class="link link-primary" href="${n}" title="${t}">${m}</a>`},table({header:n,rows:t,align:m}){const b=n.map(({text:R,header:te})=>`
      <th class="text-base-content text-large">${Y.parseInline(R)}</th>
    `).join(`
`),v=t.map(R=>`
      <tr>${R.map(({text:te,header:lt})=>`
        <td class="text-base-content text-large">${Y.parseInline(te)}</td>
      `).join(`
`)}</tr>
    `).join(`
`);return`
   <div class="bg-base-100 p-2.5 rounded-xl shadow-lg shadow-base-200 my-5">
    <div class="overflow-x-auto py-4">
        <table class="table table-sm text-large table-zebra border">
        <thead>
            ${b}
        </thead>
        <tbody>
            ${v}
        </tbody>
    </table>
    </div>
    </div>
  `},code({text:n,lang:t,codeBlockStyle:m,escaped:b}){return t?`
  <div class="p-2 flex w-full">
       <pre class="w-full"><div class="mockup-code bg-neutral-800 my-3 relative shadow-xl w-full overflow-auto"><div class="px-4 flex-1 overflow-auto h-full w-full"><code class="language-${t}">${xt.highlight(n,{language:t,ignoreIllegals:!0}).value}</code></div></div></pre>
  </div>
    `:`
  <div class="p-3 flex w-full">
    <div class="mockup-code bg-base-100 my-2.5 w-full overflow-auto max-w-full"><pre class="w-full text-sm md:text-md text-base-content"><div class="px-4 flex-1 overflow-auto h-full w-full"><code>${n}</code></div></pre></div>
  </div>
  `},list({ordered:n,start:t,loose:m,items:b}){const v=b.map(({task:R,checked:te,loose:lt,text:ot})=>`
      <li class="text-base-accent text-large">${Y.parseInline(ot)}</li>
      `).join(`
`);return n?t?`
         <div class="my-2 py-2 mx-3">
            <ol start="${t}" class="list-decimal list-outside mx-5 space-y-0.5 md:space-y-1 lg:space-y-1.5">${v}</ol>
         </div>
      `:`
         <div class="my-2 py-2 mx-3">
            <ol class="list-decimal mx-5 list-outside space-y-0.5 md:space-y-1 lg:space-y-1.5">${v}</ol>
         </div>
    `:`
         <div class="my-2 py-2 mx-3">
            <ul class="list-disc list-outside mx-5 space-y-0.5 md:space-y-1 lg:space-y-1.5">${v}</ul>
         </div>
    `},listitem({task:n,checked:t,loose:m,text:b}){return`
    <li class="text-base-accent text-small">${Y.parseInline(b)}</li>
  `},paragraph({text:n,pre:t}){return`
    <p class="text-base-accent leading-relaxed text-small">${Y.parseInline(n)}</p>
  `},heading({text:n,depth:t}){let m="dark:text-white text-large my-2";switch(t){case 1:m="dark:text-white text-extra-large my-2";break;case 2:m="dark:text-white  text-large my-1.5 ";break;case 3:m="dark:text-white  text-small my-1.5";break;case 4:m="dark:text-white  text-extra-small  my-1";break;case 5:m="dark:text-white text-extra-extra-small my-1";break;case 6:m="dark:text-white   text-extra-extra-small-2  my-0.5";break}return`
    <h${t} class="${m} font-semibold text-base-accent dark:text-white">${Y.parseInline(n)}</h${t}>
  `},hr(){return`
    <hr class="my-4 border-neutral-200"/>
  `},blockquote({text:n}){return`
    <blockquote class="my-4 border-l-4 border-neutral-200 pl-4">${n}</blockquote>
  `},image({href:n,title:t,text:m}){return`
    <img src="${n}" alt="${m}" title="${t}" class="w-full"/>
  `},strong({text:n}){return`
    <strong class="dark:text-white font-semi-bold  my-2.5 text-small">${n}</strong>
  `},codespan({text:n}){return`
    <code class="font-semi-bold my-1">&acute;${n}&acute;</code>
  `},em({text:n}){return`
    <em class="font-light my-1 text-small">${n}</em>
  `},del({text:n}){return`
    <del class="font-poppins-light my-1 text-small">${n}</del>
  `},text({text:n,type:t}){return t==="text"?`
      <span class="text-small">${n}</span>
    `:t==="escape"?`
      <span class="text-small">${n}</span>
    `:`
      <span class="text-small">${n}</span>
    `}};Y.use({renderer:P,breaks:!0,gfm:!0,useNewRenderer:!0});const ee=n=>{if(o.params.sessionId||(s.setSessionId(vt()),p.push({name:"chatWithId",params:{sessionId:s.getSessionId}})),s.regenerateResponse)console.log("Regenerating response "),s.isGeneratingResponse=!0,s.sendMessageToRafikeyChatbot({message:n,sessionId:s.getSessionId}).then(m=>{if((m==null?void 0:m.result)==="ok"){const b=s.conversation.filter(R=>!R.isUser),v=b[b.length-1];v&&(v.message=m.data)}else s.setStreamError({hasError:!0,errorMessage:m==null?void 0:m.data,isLoggedIn:m==null?void 0:m.isLoggedIn})}).catch(m=>{s.setStreamError({hasError:!0,errorMessage:"An error occurred, please try again later.",isLoggedIn:!0})}).finally(()=>{s.isGeneratingResponse=!1,s.isNewChat=!1,s.setRegenerateResponse(!1)});else{O.value={message:n,isUser:!0,uniqueId:X.uniqueId("user-")},s.conversation.push(O.value),console.log("User message----",O.value);const m=x({message:"",isUser:!1,isTyping:!0,uniqueId:X.uniqueId("rafikey-"),timestamp:""});setTimeout(()=>{s.conversation.push(m.value)},500),s.isGeneratingResponse=!0,console.log("conversation array",s.conversation),s.sendMessageToRafikeyChatbot({message:n,sessionId:s.getSessionId}).then(b=>{if((b==null?void 0:b.result)==="ok"){const v=s.conversation.filter(te=>!te.isUser),R=v[v.length-1];R&&(R.message=b.data)}else console.log("response from streaming",b),s.setStreamError({hasError:!0,errorMessage:b==null?void 0:b.data,isLoggedIn:b==null?void 0:b.isLoggedIn})}).catch(b=>{console.log("error catch",b),s.setStreamError({hasError:!0,errorMessage:"An error occurred, please try again later.",isLoggedIn:!0})}).finally(()=>{s.isGeneratingResponse=!1,s.isNewChat=!1})}},me=n=>{const t=Be.utc(n).local();return N.isSame(t,"day")?t.format("[Today] h:mm A"):N.clone().subtract(1,"days").isSame(t,"day")?t.format("[Yesterday] h:mm A"):N.clone().subtract(1,"weeks").isBefore(t,"day")?t.format("dddd h:mm A"):N.clone().subtract(1,"weeks").isAfter(t)?t.format("[Last]dddd h:mm A"):N.clone().subtract(1,"years").isBefore(t)?t.format("MMMM D, dddd"):t.format("YYYY")},z=x(!1),fe=()=>{z.value=!z.value},re=n=>{s.conversation=[],h.value=!0,s.getChatHistory(n).then(t=>{(t==null?void 0:t.result)=="ok"&&(p.replace({name:"chatWithId",params:{sessionId:n}}),t.data.sort((b,v)=>new Date(b.timestamp).getTime()-new Date(v.timestamp).getTime()).forEach(b=>{const v=me(b.timestamp);O.value={message:b.user_message,isUser:!0,uniqueId:X.uniqueId("user-"),timestamp:v},s.conversation.push(O.value),T.value={message:b.bot_response,isUser:!1,isTyping:!1,uniqueId:X.uniqueId("rafikey-"),timestamp:v},s.conversation.push(T.value)}))}).catch(t=>{console.error("Error fetching chat history",t)}).finally(()=>{s.isGeneratingResponse=!1,T.value.isTyping=!1,h.value=!1})};Pe(()=>{J();const n=o.params.sessionId;A.value=s.isNewChat&&l.value,s.isNewChat||ct(()=>{re(n)}),document.addEventListener("click",ne)}),pt(()=>{document.removeEventListener("click",ne)});const ne=n=>{d.value&&!d.value.contains(n.target)&&(z.value=!1)};be(()=>s.regenerateResponse,n=>{console.log("Regenerate response"),n&&ee(s.regenerateUserInput)});const q=x(!1),he=()=>{q.value=!0},ie=()=>{i.logout(),p.push({name:"login"})},de=()=>{q.value=!1,z.value=!1},A=x(!1),l=ut("(max-width: 767px)");be(()=>l.value,n=>{A.value=s.isNewChat&&n});const B=()=>{p.push({name:"privacy-policy-1"}),s.isShowTermsButton=!1},F=_e(r),y=x(!1),W=n=>{y.value=n},Ze=n=>{oe.value=G.find(t=>t.id===n.id)||G[0]},ue=x(!1),ce=x(!1),ke={title:"Rafikey Ai",text:"Talk freely. Learn safely. Own your sexual health with Rafikey AI 💬✨❤️",url:`${s.RAFIKEY_CHATBOT_FRONTEND_URL}/guest-user/${s.sessionId}`};async function Ie(){if(navigator.share)try{await navigator.share(ke)}catch{console.log("An errror has occurred")}else ce.value=!0}const Qe=()=>{M.value=!0,setTimeout(()=>{w.value=ke.url,M.value=!1,I.value=!0,j.value=!0},2e3)},Ke=()=>{if(!navigator.clipboard)a.addNotification("Your browser does not support clipboard feature, please switch to a different browser","error");else if(typeof navigator.clipboard.writeText=="function")try{navigator.clipboard.writeText(w.value),C.value=!0}catch(n){console.error(n),a.addNotification("Failed to copy chat link, please try again","error")}finally{setTimeout(()=>{C.value=!1},2e3)}},pe=n=>{const t=w.value,m=encodeURIComponent(t);let b="";const v=encodeURIComponent(ke.text);n==="facebook"?b=`https://www.facebook.com/sharer/sharer.php?u=${m}&quote=${v}`:n==="twitter"?b=`https://twitter.com/intent/tweet?url=${m}&text=${v}`:n==="whatsapp"?b=`https://api.whatsapp.com/send?text=${v}%20${m}`:n==="linkedIn"&&(b=`https://www.linkedin.com/sharing/share-offsite/?url=${m}`),window.open(b,"_blank")},ge=x(!1),et=()=>{_.value=!1},He=()=>{ge.value=!ge.value},Le=i.user;let ye="";try{Le&&(ye=JSON.parse(Le).username||"ME")}catch{ye="ME"}const{darkBgColor:tt,bgColor:st,setColor:at}=yt(ye);return at(),Te("bgColor",st),Te("darkBgColor",tt),(n,t)=>{var b;const m=gt("RouterView");return u(),g("div",Js,[e("div",null,[$(Is,{onFetchHistoryHandler:re,onShareChat:Ie,onProfileHandler:fe,onIsProfile:W,onShowFeedbackDialog:He})]),e("div",Ws,[e("div",{class:H(["",[c(s).collapseSidebarLarge?"md:ml-32 duration-300":"ml-96 duration-300"]])},[c(s).isNewChat?L("",!0):(u(),g("div",Xs,[e("div",{onClick:S(Ie,["stop"]),class:"flex gap-1 justify-between border dark:border-white border-stone-300 rounded-lg px-2 py-1"},t[17]||(t[17]=[e("span",{class:"material-icons-outlined dark:text-stone-300 md:!text-lg !text-sm"},"share",-1),e("span",{class:"dark:text-white md:text-lg text-sm"},"Share",-1)])),e("div",{onClick:He},t[18]||(t[18]=[e("span",{class:"dark:text-white md:text-lg text-sm"},"Feedback",-1)]))])),e("div",Zs,[e("div",Qs,[e("div",{class:"flex gap-4 cursor-pointer",onClick:t[0]||(t[0]=v=>c(p).go(-1))},t[19]||(t[19]=[e("span",{class:"material-icons-outlined dark:text-white"},"arrow_back",-1),e("span",{class:"dark:text-white"},"Chatting With Rafikey",-1)])),e("div",{onClick:t[1]||(t[1]=v=>c(s).setCollapseSidebarSmall(!1)),class:"btn btn-sm btn-ghost shadow-none bg-transparent hover:border-none"},t[20]||(t[20]=[e("span",{class:"material-icons-outlined dark:text-white"},"more_horiz",-1)]))])]),$(m,null,{default:k(({Component:v,route:R})=>[v?(u(),V(Ce(v),{key:R.fullPath,onUserInput:ee},null,32)):L("",!0)]),_:1}),ae(e("div",{class:H([[c(s).collapseSidebarLarge?"":"left-28 bottom-8 z-50"],"md:block hidden divide-y divide-solid dark:divide-stone-700 dark:bg-darkgray cursor-pointer fixed space-y-4 bottom-20 z-40 bg-white shadow-2xl w-60 p-4 rounded-2xl"]),ref_key:"profileSectionElement",ref:d},[e("div",Ks,[e("div",{onClick:S(B,["stop"]),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},t[21]||(t[21]=[e("span",{class:"material-icons-outlined dark:text-white !text-xl"},"article",-1),e("span",{class:"dark:text-white text-gray-700"},"Terms and Conditions",-1)])),e("div",{onClick:t[2]||(t[2]=v=>ue.value=!0),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},t[22]||(t[22]=[e("span",{class:"material-icons-outlined dark:text-white !text-xl"},"settings",-1),e("span",{class:"dark:text-white text-gray-700"},"Settings",-1)])),e("div",{onClick:t[3]||(t[3]=S(v=>c(F)(),["stop"])),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},[c(r)?(u(),g("span",ta,"light_mode")):(u(),g("span",ea,"dark_mode")),c(r)?(u(),g("span",aa,"Light Mode")):(u(),g("span",sa,"Dark Mode"))])]),e("div",la,[e("div",{onClick:S(he,["stop"]),class:"flex gap-4 hover:bg-lightBackground dark:hover:bg-stone-700 rounded-lg px-2 py-1"},t[23]||(t[23]=[e("span",{class:"material-icons-round dark:text-white !text-xl"},"exit_to_app",-1),e("span",{class:"dark:text-white text-gray-700"},"Log out",-1)])),e("div",oa,[t[24]||(t[24]=e("span",{class:"material-icons-round text-stone-400 dark:text-white"},"person_outline",-1)),e("span",ra,D((b=c(i).getUserInfo())==null?void 0:b.username),1)])])],2),[[ze,z.value]]),!c(s).isStreamError.hasError&&!A.value?(u(),g("div",{key:1,ref:"userInputContainerHeightRef",class:H([[c(s).collapseSidebarLarge?"md:left-44 md:w-[calc(100vw-14rem)] duration-300 ":"md:left-96  md:w-[calc(100vw-28rem)]  duration-300 "],"fixed bottom-6 bg-white left-4 w-[calc(100vw-2rem)] dark:bg-lightgray"])},[e("div",na,[e("div",ia,[$(bt,{class:"mx-auto",disabled:!1,"is-generating":c(s).isGeneratingResponse,onUserInput:ee,"display-bottom":c(s).conversation.length>0},null,8,["is-generating","display-bottom"])])])],2)):L("",!0)],2)]),_.value?(u(),g("div",da,[$(Rs,{onCloseGameButton:et})])):L("",!0),ge.value?(u(),g("div",ua,[$(Vs,{onCloseFeedbackDialog:t[4]||(t[4]=v=>ge.value=!1)})])):L("",!0),(u(),V(xe,{to:"body"},[$(Q,{"is-open":q.value,onCloseModal:t[5]||(t[5]=v=>q.value=!q.value)},{title:k(()=>t[25]||(t[25]=[e("div",{class:"flex justify-center"},[e("span",{class:"material-icons-round dark:text-white !text-4xl"},"😢")],-1)])),body:k(()=>t[26]||(t[26]=[e("div",{class:"flex flex-col items-center py-2"},[e("p",{class:"dark:text-white text-lg lg:text-xl"},"Are you Sure?"),e("span",{class:"dark:text-white text-lg lg:text-lg"},"You want to log out?")],-1)])),footer:k(()=>[e("div",ca,[e("button",{onClick:S(ie,["stop"]),class:"btn btn-sm border-none outline-none bg-casablanca-300 shadow-none px-4 rounded-lg"},t[27]||(t[27]=[e("span",{class:""},"Ok",-1)])),e("button",{onClick:de,class:"btn btn-sm bg-transparent border-casablanca-300 shadow-none rounded-lg dark:text-white"},t[28]||(t[28]=[e("span",null,"Cancel",-1)]))])]),_:1},8,["is-open"])])),$(Q,{"max-width":ha,"is-open":ue.value,onCloseModal:t[6]||(t[6]=v=>ue.value=!ue.value)},{title:k(()=>[$(Ve,{onTabChange:Ze})]),body:k(()=>[e("div",null,[(u(),V(Ce(oe.value.component)))])]),footer:k(()=>t[29]||(t[29]=[])),_:1},8,["is-open"]),$(Q,{"is-open":ce.value&&!c(s).isGeneratingResponse,onCloseModal:t[16]||(t[16]=v=>ce.value=!1)},{title:k(()=>[e("div",pa,[e("div",{onClick:t[7]||(t[7]=v=>ce.value=!1),class:"cursor-pointer"},t[30]||(t[30]=[e("span",{class:"material-icons-outlined dark:text-white"},"close",-1)])),t[31]||(t[31]=e("div",null,[e("span",{class:"font-semibold text-lg dark:text-white"},"Share link chat on social")],-1))])]),body:k(()=>t[32]||(t[32]=[e("div",null,[e("p",{class:"dark:text-white"},"Generate link to share with friends on social media platforms.")],-1)])),footer:k(()=>[e("div",ga,[e("div",va,[ae(e("input",{type:"text",onCopy:t[8]||(t[8]=S(()=>{},["prevent"])),onCut:t[9]||(t[9]=S(()=>{},["prevent"])),onPaste:t[10]||(t[10]=S(()=>{},["prevent"])),readonly:"","onUpdate:modelValue":t[11]||(t[11]=v=>w.value=v),class:"select-none dark:bg-lightgray dark:text-white h-10 w-9/12 overflow-ellipsis focus:outline-none focus:ring-0 focus:border-transparent line-clamp-1 md:ps-2 ps-1 me-0.5 rounded-md",placeholder:"https://rafikeyaichatbot-frontend.onrender.com/..."},null,544),[[Ye,w.value]]),!M.value&&!I.value?(u(),g("div",{key:0,onClick:Qe,class:"dark:text-white rounded-2xl bg-transparent border-gray-300 btn btn-sm"},t[33]||(t[33]=[e("span",{class:""},"generate link",-1)]))):L("",!0),M.value&&!I.value?(u(),g("div",ba,t[34]||(t[34]=[e("span",{class:""},"generating...",-1),e("span",{class:"loading loading-spinner loading-md"},null,-1)]))):L("",!0),I.value?(u(),g("div",{key:2,onClick:Ke,class:"btn btn-sm btn-ghost border-gray-300 rounded-2xl bg-transparent dark:text-white"},[$(c(Fs)),C.value?(u(),g("span",ma,"Copied")):(u(),g("span",xa,"Copy link"))])):L("",!0)]),j.value?(u(),g("div",fa,[e("div",null,[e("div",{onClick:t[12]||(t[12]=S(v=>pe("linkedIn"),["stop"])),class:"btn btn-sm btn-ghost w-14 h-14"},t[35]||(t[35]=[e("img",{src:wt,alt:"linkedin_logo"},null,-1)])),t[36]||(t[36]=e("span",{class:"dark:text-white"},"LinkedIn",-1))]),e("div",null,[e("div",{onClick:t[13]||(t[13]=S(v=>pe("whatsapp"),["stop"])),class:"btn btn-sm btn-ghost w-14 h-14"},t[37]||(t[37]=[e("img",{src:Ct,alt:"whatsapp_logo"},null,-1)])),t[38]||(t[38]=e("span",{class:"dark:text-white"},"Whatsapp",-1))]),e("div",null,[e("div",{onClick:t[14]||(t[14]=S(v=>pe("facebook"),["stop"])),class:"btn btn-sm btn-ghost w-14 h-14"},t[39]||(t[39]=[e("img",{src:St,alt:"facebook_logo"},null,-1)])),t[40]||(t[40]=e("span",{class:"dark:text-white"},"Facebook",-1))]),e("div",null,[e("div",{onClick:t[15]||(t[15]=S(v=>pe("twitter"),["stop"])),class:"btn btn-sm btn-ghost w-14 h-14"},t[41]||(t[41]=[e("img",{src:$t,alt:"twitter_logo"},null,-1)])),t[42]||(t[42]=e("span",{class:"dark:text-white"},"Twitter",-1))])])):L("",!0)])]),_:1},8,["is-open"])])}}});export{Ia as default};
