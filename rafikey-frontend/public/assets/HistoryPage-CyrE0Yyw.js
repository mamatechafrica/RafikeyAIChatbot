import{a as p}from"./moment-BHTDC-Ci.js";import{_ as f,a as k,b as y}from"./ErrorScreen.vue_vue_type_script_setup_true_lang-Dg1emoJk.js";import{f as _,k as h,i as b,p as E,c as t,g as m,d as n,G as c,N as B,u as r,a as C,J as I,o as a,b as u,B as S}from"./index-DmnJlZDj.js";const R={key:0},V=_({__name:"HistoryPage",setup(w){const s=h(),g=b(),i=()=>{I(()=>{const o=document.getElementById("userInputPlaceholder");o&&o.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})})};return E(s.conversation||s.isStreamError.hasError,()=>{i()}),setTimeout(()=>{i()},1e3),(o,l)=>(a(),t("div",{ref_key:"conversationContainerRef",ref:g,class:"relative md:py-12 h-[calc(100vh-10rem)] md:w-11/12 w-full mx-auto overflow-y-auto"},[m("ul",null,[(a(!0),t(c,null,B(r(s).conversation,(e,d)=>(a(),t(c,{key:d},[e&&e.isUser&&e.message.length>0&&!e.isTyping?(a(),u(k,{class:S([r(s).collapseSidebarLarge?"pe-0":"pe-10"]),"user-message":e.message,"user-name":"You","created-at":e.timestamp||"","is-generating-response":r(s).isGeneratingResponse,key:e.uniqueId},null,8,["class","user-message","created-at","is-generating-response"])):n("",!0),e&&!e.isUser?(a(),u(y,{"chatbot-name":"Rafikey","rafikey-chatbot-message":r(p).parse(e.message),"is-typing":!1,"is-copyable":!1,"is-error":!1,"created-at":e.timestamp||"","is-generating-response":r(s).isGeneratingResponse,key:e.uniqueId},null,8,["rafikey-chatbot-message","created-at","is-generating-response"])):n("",!0)],64))),128))]),r(s).isStreamError.hasError?(a(),t("div",R,[C(f,{"error-message":r(s).isStreamError.errorMessage,"is-logged-in":r(s).isStreamError.isLoggedIn},null,8,["error-message","is-logged-in"])])):n("",!0),l[0]||(l[0]=m("div",{id:"userInputPlaceholder",class:"pt-10"},null,-1))],512))}});export{V as default};
