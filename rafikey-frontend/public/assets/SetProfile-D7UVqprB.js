import{_ as ee,c as i,o as l,h as se,f as te,k as oe,l as ae,i as k,m as F,n as q,p as x,q as re,t as le,g as s,b as ie,u as o,d,v as u,x as P,y as m,z as G,A as C,B as ne,C as M,a as V,w as h,r as de,D as Y,T as ue,j as me}from"./index-DmnJlZDj.js";import{_ as pe}from"./rafikey-key-oWRpNpDv.js";import{u as E}from"./vee-validate-BJN4s3-T.js";import{_ as xe}from"./rafikey-bot-CZvfzXzw.js";import{_ as ce}from"./DialogModal.vue_vue_type_script_setup_true_lang-9d9wul7a.js";import{t as ge}from"./imageToggle-FCI9H9iY.js";import"./description-D5UqeOi9.js";import"./open-closed-amZRd_iR.js";import"./rafikey-icon-dark-Bxp0jwbr.js";const fe={},ve={class:"flex flex-col gap-4 items-center justify-center h-screen w-full bg-white dark:bg-lightgray"};function be(Z,w){return l(),i("div",ve,w[0]||(w[0]=[se('<div class=""><img src="'+xe+'" alt="rafikey-bot" class="w-40 lg:w-60"></div><div class="flex space-x-2"><div class="w-8 h-3 rounded-md animate-pulse bg-casablanca-400"></div><div class="w-3 h-3 rounded-full animate-pulse bg-casablanca-200"></div><div class="w-3 h-3 rounded-full animate-pulse bg-casablanca-300"></div></div>',2)]))}const ye=ee(fe,[["render",be]]),we={key:0},ke={class:"min-h-screen w-full dark:bg-lightgray hidden overflow-hidden md:flex py-10"},he={class:"dark:bg-darkgray bg-lightBackground flex flex-col w-11/12 mx-auto rounded-2xl"},_e={class:"w-60 h-16"},Pe=["src"],Ce={class:"w-3/4 xl:space-y-5 space-y-4 mx-auto rounded-2xl"},Me={class:"space-y-2 w-3/4 mx-auto"},Ve={class:"grid grid-cols-2 gap-8"},Ee={class:"col-span-1 flex-col space-y-1"},Ae={key:0,class:"text-rose-500"},Ue={class:"col-span-1 space-y-1"},$e={key:0,class:"text-rose-500"},qe={class:"flex items-center gap-2"},Se={class:"grid grid-cols-2 gap-8"},De={class:"relative space-y-1"},Le=["type"],Re={key:2,class:"text-rose-500"},Te={class:"relative space-y-1"},je=["type"],Be={key:0,class:"text-rose-500"},Ne={key:0,class:"w-3/4 mx-auto flex gap-2"},ze={class:"text-rose-500"},Oe={class:"w-4/6 mx-auto pt-24 flex justify-between items-center"},Fe={class:"flex justify-center pb-2"},Ge={class:"text-sm dark:text-white"},Ye={class:"md:hidden block dark:bg-darkgray overflow-hidden h-screen w-full"},Ze={class:"flex flex-col md:px-20 px-10 space-y-3"},Ie={class:"space-y-2"},Ke={class:"space-y-0.5"},He={key:0},Je={class:"md:text-lg text-sm text-rose-500"},Qe={class:"space-x-2 flex"},We={class:"space-y-0.5"},Xe={key:0,class:"md:text-lg text-sm text-rose-500"},es={class:"relative space-y-0.5"},ss=["type"],ts={key:0,class:"md:text-lg text-sm text-rose-500"},os={class:"relative space-y-0.5"},as=["type"],rs={key:0,class:"text-rose-500 md:text-lg text-sm"},ls={key:0,class:"flex gap-2"},is={class:"text-rose-500 text-sm"},ns={class:"w-3/4 mx-auto flex justify-between items-center"},ds={key:0,class:"text-sm"},us={key:1,class:"loading loading-spinner loading-sm"},ms={class:"flex justify-center"},ps={class:"text-sm dark:text-white"},xs={class:"grid grid-cols-2 gap-4"},cs={class:"col-span-1 w-full"},gs={key:0,class:"text-extra-small md:text-small"},fs={key:1,class:"loading loading-spinner loading-sm"},vs={class:"col-span-1"},bs={key:1},Es=te({__name:"SetProfile",setup(Z){const w=me(),n=oe(),A=ae(),c=k(!1),U=k(!1),g=k(!1),S=k(!1),p=F({isError:!1,message:""}),D=q(()=>c.value?"text":"password"),L=q(()=>g.value?"text":"password"),r=F({username:"",email:"",password:"",confirmPassword:"",remainAnonymous:!1}),_=k(!1);x(()=>n.isAnonymous,t=>{t&&n.setDialogModal(!0)}),x(()=>n.dialogModal.isOpen,t=>{t||(n.isAnonymous=!1)}),x(()=>U.value,t=>{t&&(S.value=!0,setTimeout(()=>{w.push({name:"guest-page"})},3e3))}),re(()=>{r.username=A.getProfile.username,r.email=A.getProfile.email,r.password="",r.confirmPassword="",n.isAnonymous=!1});const I=t=>t?t.length>20?"Username too long":t.length<3?"Username too short":!0:"Username is required",{value:K,errorMessage:R,meta:f}=E("username",I);x(()=>r.username,t=>{t&&(K.value=t)});const H=t=>t?!0:"Email is required",{value:J,errorMessage:T,meta:v}=E("email",H);x(()=>r.email,t=>{t&&(J.value=t)});const Q=t=>t?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\S]{6,}$/.test(t)?!0:"Password must contain at least 6 characters, one uppercase letter, one lowercase letter and one number and optional special characters":"Password is required",{value:j,errorMessage:B,meta:b}=E("password",Q);x(()=>r.password,t=>{t&&(j.value=t)});const W=t=>t?t!==j.value?"Passwords do not match":!0:"Confirm Password is required",{value:X,errorMessage:N,meta:y}=E("confirmPassword",W);x(()=>r.confirmPassword,t=>{t&&(X.value=t)});const $=q(()=>f.validated&&f.valid&&v.validated&&v.valid&&b.validated&&b.valid&&y.validated&&y.valid);x($,t=>{t&&(p.isError=!1,p.message="")});const z=()=>{$.value?(A.setProfile({username:r.username,email:r.email,password:r.password}),n.isAnonymous=!1,_.value=!0,setTimeout(()=>{_.value=!1,w.push({name:"get-to-know-you"})},3e3)):(p.isError=!0,p.message="Please fill all fields correctly before proceeding")};return le(()=>{U.value&&n.setDialogModal(!1)}),(t,e)=>{const O=de("RouterLink");return _.value?(l(),i("div",bs,[V(ye)])):(l(),i("div",we,[s("div",ke,[s("div",he,[s("div",_e,[s("img",{src:o(ge)(),alt:"rafikey-logo"},null,8,Pe)]),s("div",Ce,[e[29]||(e[29]=s("div",{class:"flex flex-col pt-32 items-center space-y-1"},[s("h2",{class:"text-4xl font-semibold dark:text-white"},"Set up your profile"),s("p",{class:"text-lg text-stone-700 text-center dark:text-stone-300"}," Let's get you set up so you can access your personal account for a more personalized experience ")],-1)),e[30]||(e[30]=s("div",{class:"border-b pt-8 border-gray-400 w-1/2 mx-auto"},null,-1)),s("div",null,[s("form",null,[s("div",Me,[s("div",Ve,[s("div",Ee,[e[21]||(e[21]=s("label",{class:"form-control w-full dark:text-white text-gray-950 text-sm",for:"username"},"Username",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),id:"username-lg",type:"text",class:"w-full dark:bg-darkgray dark:text-white border-[1px] border-gray-300 rounded-lg p-2 lg:text-lg text-sm",required:"",placeholder:"Choose a username"},null,512),[[P,r.username]]),o(f).validated&&!o(f).valid?(l(),i("span",Ae,m(o(R)),1)):d("",!0)]),s("div",Ue,[e[22]||(e[22]=s("label",{class:"text-gray-950 dark:text-white text-sm",for:"email"},"Email",-1)),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.email=a),id:"email-lg",type:"email",class:"w-full dark:bg-darkgray dark:text-white border-[1px] border-gray-300 rounded-lg p-2 lg:text-lg text-sm",required:"",placeholder:"Enter your email"},null,512),[[P,r.email]]),o(v).validated&&!o(v).valid?(l(),i("span",$e,m(o(T)),1)):d("",!0)])]),s("div",qe,[u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o(n).isAnonymous=a),type:"checkbox",class:"checked:bg-button-light mt-1 checked:border-none checkbox h-4 w-4 text-button-light dark:border-slate-300 border-slate-800"},null,512),[[G,o(n).isAnonymous]]),e[23]||(e[23]=s("p",{class:"text-sm dark:text-white pt-1"},"Remain Anonymous",-1))]),s("div",Se,[s("div",De,[e[24]||(e[24]=s("label",{class:"text-gray-950 dark:text-white text-sm d",for:"password"}," Password ",-1)),u(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.password=a),id:"password-lg",type:D.value,class:"w-full dark:bg-darkgray dark:text-white border-[1px] border-gray-300 rounded-lg p-2 lg:text-lg text-sm",required:"",placeholder:"Enter password"},null,8,Le),[[C,r.password]]),c.value?(l(),i("span",{key:0,onClick:e[4]||(e[4]=a=>c.value=!1),class:"dark:text-white material-icons-outlined absolute cursor-pointer right-3 top-9"},"visibility_off")):(l(),i("span",{key:1,onClick:e[5]||(e[5]=a=>c.value=!0),class:"dark:text-white material-icons-outlined absolute cursor-pointer right-3 top-9"},"visibility")),o(b).validated&&!o(b).valid?(l(),i("span",Re,m(o(B)),1)):d("",!0)]),s("div",Te,[e[25]||(e[25]=s("label",{class:"text-gray-950 dark:text-white text-sm",for:"confirmPassword"}," Confirm Password ",-1)),u(s("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.confirmPassword=a),id:"confirmPassword-lg",type:L.value,class:"w-full dark:bg-darkgray dark:text-white border-[1px] border-gray-300 rounded-lg p-2 lg:text-lg text-sm",required:"",placeholder:"Confirm password"},null,8,je),[[C,r.confirmPassword]]),o(y).validated&&!o(y).valid?(l(),i("span",Be,m(o(N)),1)):d("",!0),g.value?(l(),i("span",{key:1,onClick:e[7]||(e[7]=a=>g.value=!1),class:"dark:text-white material-icons-outlined absolute cursor-pointer right-3 top-9"},"visibility_off")):(l(),i("span",{key:2,onClick:e[8]||(e[8]=a=>g.value=!0),class:"dark:text-white material-icons-outlined absolute cursor-pointer right-3 top-9"},"visibility"))])])])])]),p.isError?(l(),i("div",Ne,[e[26]||(e[26]=s("span",{class:"material-icons-outlined text-rose-500"},"error",-1)),s("span",ze,m(p.message),1)])):d("",!0),e[31]||(e[31]=s("div",{class:"border-b pt-4 border-gray-400 w-1/2 mx-auto"},null,-1)),s("div",Oe,[s("button",{onClick:z,class:ne([[$.value?"bg-button-light ":"bg-button-inactive"],"btn w-full btn-sm text-lg rounded-2xl py-6 border-none shadow-none"])}," Next ",2)]),s("div",Fe,[s("p",Ge,[e[28]||(e[28]=M(" Already have an account? ")),V(O,{to:"/auth/login",class:"text-sm text-rose-400"},{default:h(()=>e[27]||(e[27]=[M("Log in")])),_:1})])])])])]),s("div",Ye,[e[43]||(e[43]=s("div",{class:"w-44 h-24 mx-auto"},[s("img",{src:pe,alt:"rafikey-logo"})],-1)),s("div",Ze,[e[40]||(e[40]=s("div",{class:"flex flex-col items-center space-y-2"},[s("h2",{class:"text-2xl font-semibold dark:text-white"},"Set up your profile"),s("p",{class:"text-sm text-gray-700 dark:text-stone-300 text-center"}," Let's get you set up so you can access your personal account for a more personalized experience ")],-1)),e[41]||(e[41]=s("div",{class:"border-b border-stone-400 w-full"},null,-1)),s("form",Ie,[s("div",Ke,[e[32]||(e[32]=s("label",{for:"username",class:"dark:text-white text-black md:text-lg text-sm"},"Username",-1)),u(s("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>r.username=a),id:"username",type:"text",class:"w-full dark:bg-darkgray dark:text-white border-[1px] border-gray-300 rounded-lg p-2 md:text-lg text-sm",required:"",placeholder:"Choose a username"},null,512),[[P,r.username]]),o(f).validated&&!o(f).valid?(l(),i("div",He,[s("span",Je,m(o(R)),1)])):d("",!0)]),s("div",Qe,[u(s("input",{id:"checkbox","onUpdate:modelValue":e[10]||(e[10]=a=>o(n).isAnonymous=a),type:"checkbox",class:"checked:bg-button-light mt-1 checked:border-none checkbox h-4 w-4 text-button-light dark:border-slate-300 border-slate-800"},null,512),[[G,o(n).isAnonymous]]),e[33]||(e[33]=s("p",{class:"md:text-lg text-sm dark:text-white text-black pt-1"},"Remain Anonymous",-1))]),s("div",We,[e[34]||(e[34]=s("label",{for:"email",class:"dark:text-white text-black md:text-lg text-sm"},"Email",-1)),u(s("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>r.email=a),id:"email",type:"email",class:"w-full dark:text-white dark:bg-darkgray border-[1px] border-gray-300 rounded-lg p-2 md:text-lg text-sm",required:"",placeholder:"Enter your email"},null,512),[[P,r.email]]),o(v).validated&&!o(v).valid?(l(),i("span",Xe,m(o(T)),1)):d("",!0)]),s("div",es,[e[35]||(e[35]=s("label",{class:"dark:text-white text-black md:text-lg text-sm",for:"password"}," Password ",-1)),u(s("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>r.password=a),id:"password",type:D.value,class:"w-full dark:text-white dark:bg-darkgray border-[1px] border-gray-300 rounded-lg p-2 md:text-lg text-sm",required:"",placeholder:"Enter password"},null,8,ss),[[C,r.password]]),o(b).validated&&!o(b).valid?(l(),i("span",ts,m(o(B)),1)):d("",!0),c.value?(l(),i("span",{key:1,onClick:e[13]||(e[13]=a=>c.value=!1),class:"material-icons-outlined absolute !text-xl cursor-pointer right-3 top-8"},"visibility_off")):(l(),i("span",{key:2,onClick:e[14]||(e[14]=a=>c.value=!0),class:"material-icons-outlined absolute !text-xl cursor-pointer right-3 top-8"},"visibility"))]),s("div",os,[e[36]||(e[36]=s("label",{class:"dark:text-white text-black md:text-lg text-sm",for:"password"}," Confirm Password ",-1)),u(s("input",{"onUpdate:modelValue":e[15]||(e[15]=a=>r.confirmPassword=a),id:"ConfirmPassword",type:L.value,class:"w-full dark:text-white dark:bg-darkgray border-[1px] border-gray-300 rounded-lg p-2 md:text-lg text-sm",required:"",placeholder:"Enter password"},null,8,as),[[C,r.confirmPassword]]),o(y).validated&&!o(y).valid?(l(),i("span",rs,m(o(N)),1)):d("",!0),g.value?(l(),i("span",{key:1,onClick:e[16]||(e[16]=a=>g.value=!1),class:"material-icons-outlined absolute !text-xl cursor-pointer right-3 top-8"},"visibility_off")):(l(),i("span",{key:2,onClick:e[17]||(e[17]=a=>g.value=!0),class:"material-icons-outlined absolute !text-xl cursor-pointer right-3 top-8"},"visibility"))])]),p.isError?(l(),i("div",ls,[e[37]||(e[37]=s("span",{class:"material-icons-outlined text-rose-500"},"error",-1)),s("span",is,m(p.message),1)])):d("",!0),e[42]||(e[42]=s("div",{class:"border-b border-stone-400 w-full pt-2"},null,-1)),s("div",ns,[s("button",{onClick:z,class:"btn w-full btn-sm text-sm rounded-2xl py-5 bg-button-light border-none shadow-none"},[_.value?(l(),i("span",us)):(l(),i("span",ds,"Next"))])]),s("div",ms,[s("p",ps,[e[39]||(e[39]=M(" Already have an account? ")),V(O,{to:"/auth/login",class:"text-sm text-rose-400"},{default:h(()=>e[38]||(e[38]=[M("Log in")])),_:1})])])])]),(l(),ie(ue,{to:"body"},[V(ce,{"is-open":o(n).dialogModal.isOpen,onCloseModal:e[20]||(e[20]=a=>o(n).setDialogModal(!1))},{title:h(()=>e[44]||(e[44]=[s("div",{class:"flex justify-center"},[s("span",{class:"material-icons-outlined text-casablanca-300 !text-3xl lg:!text-4xl"},"info")],-1)])),body:h(()=>e[45]||(e[45]=[s("div",{class:"flex flex-col items-center py-2"},[s("p",{class:"md:text-large text-small dark:text-white"},"Are you Sure?"),s("span",{class:"md:text-small dark:text-white text-nowrap text-extra-small"},"Your chat's won't be saved, if you login anonymously")],-1)])),footer:h(()=>[s("div",xs,[s("div",cs,[s("button",{onClick:e[18]||(e[18]=Y(a=>U.value=!0,["stop"])),class:"w-full btn btn-sm border-none bg-casablanca-300 shadow-none px-4 rounded-lg"},[S.value?(l(),i("span",fs)):(l(),i("span",gs,"Ok"))])]),s("div",vs,[s("button",{onClick:e[19]||(e[19]=Y(a=>o(n).setDialogModal(!1),["stop"])),class:"w-full btn btn-sm bg-transparent border-casablanca-300 shadow-none rounded-lg"},e[46]||(e[46]=[s("span",{class:"text-extra-small dark:text-white md:text-small"},"Cancel",-1)]))])])]),_:1},8,["is-open"])]))]))}}});export{Es as default};
